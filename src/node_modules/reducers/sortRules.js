import R from 'ramda';

import {
  ADD_SORT_RULES
} from 'actionTypes';

import {storePhones} from 'api';

export default (state = storePhones, {type, payload}) => {
  switch (type) {
    case ADD_SORT_RULES:
      function sorting(items, field, sd) {
        if (field === 'price') {
          let sortList = R.sortBy(R.prop(field));
          sd ? sortList = sortList(items) : sortList = R.reverse(sortList(items))
          return sortList
        } else if (field === 'qty') {
          let sortList = R.sortBy(R.prop(field));
          return R.reverse(sortList(items))
        }
      }
      const newList = sorting(state, payload.sortField, payload.sortDirection);
      return newList
    default:
      return state
  }
}